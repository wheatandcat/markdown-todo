# ポート設定ガイド

## ポート割り当て

| 環境 | ポート | 用途 |
|------|--------|------|
| 開発環境 | 5000 | 開発サーバー (`npm run dev`) |
| Electron | 5001 | Electronアプリ内蔵サーバー |
| プロダクション | 5002 | プロダクションサーバー (`npm run start`) |

## 問題解決済み

### EADDRINUSE エラー
**症状**: `npm run start` 実行時に「address already in use :::5000」エラー

**原因**: 開発サーバーとプロダクションサーバーが同じポート5000を使用

**解決**: プロダクションサーバーをポート5002に変更

### Electronアプリ白い画面
**症状**: パッケージ化されたアプリで白い画面表示

**原因**: 
1. ポート競合
2. unhandledrejectionエラー
3. ファイルパス不整合

**解決**: 
1. Electron専用ポート5001を使用
2. グローバルエラーハンドリング追加
3. 複数パス検索とフォールバック機能実装

## 使用方法

### 開発時
```bash
npm run dev  # ポート5000で開発サーバー起動
```

### プロダクション検証
```bash
npm run start  # ポート5002でプロダクションサーバー起動
```

### Electronアプリビルド
```bash
sh ./scripts/build-electron-final.sh  # 全ての修正を含むビルド
```

全てのポート競合と白い画面問題は解決済みです。